var xrcontroller=pc.createScript("xrcontroller");xrcontroller.attributes.add("disableWorldTracking",{type:"boolean"}),xrcontroller.attributes.add("shadowmaterial",{type:"asset"}),xrcontroller.prototype.initialize=function(){const a=this.disableWorldTracking;this.shadowmaterial&&XRExtras.PlayCanvas.makeShadowMaterial({pc:pc,material:this.shadowmaterial});const r=XRExtras.PlayCanvas.findOneCamera(this.entity);XRExtras.Loading.showLoading({onxrloaded:(({pcCamera:r,pcApp:e},t)=>()=>{XR8.XrController.configure({disableWorldTracking:a});const i={canvas:document.getElementById("application-canvas")};XR8.PlayCanvas.runXr({pcCamera:r,pcApp:e},t,i)})({pcCamera:r,pcApp:this.app},[LandingPage.pipelineModule(),XRExtras.Loading.pipelineModule(),XRExtras.RuntimeError.pipelineModule()])})};var taprecenter=pc.createScript("taprecenter");taprecenter.prototype.initialize=function(){this.app.touch.on(pc.EVENT_TOUCHSTART,(e=>{1===e.touches.length&&this.app.fire("xr:recenter")}))};pc.script.createLoadingScreen((function(e){var t,a;t=["body {","    background-color: #283538;","}","","#application-splash-wrapper {","    position: absolute;","    top: 0;","    left: 0;","    height: 100%;","    width: 100%;","    background-color: #283538;","}","","#application-splash {","    position: absolute;","    top: calc(50% - 28px);","    width: 264px;","    left: calc(50% - 132px);","}","","#application-splash img {","    width: 100%;","}","","#progress-bar-container {","    margin: 20px auto 0 auto;","    height: 2px;","    width: 100%;","    background-color: #1d292c;","}","","#progress-bar {","    width: 0%;","    height: 100%;","    background-color: #f60;","}","","@media (max-width: 480px) {","    #application-splash {","        width: 170px;","        left: calc(50% - 85px);","    }","}"].join("\n"),(a=document.createElement("style")).type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t)),document.head.appendChild(a),function(){var e=document.createElement("div");e.id="application-splash-wrapper",document.body.appendChild(e);var t=document.createElement("div");t.id="application-splash",e.appendChild(t),t.style.display="none";var a=document.createElement("img");a.src="https://playcanvas.com/static-assets/images/play_text_252_white.png",t.appendChild(a),a.onload=function(){t.style.display="block"};var o=document.createElement("div");o.id="progress-bar-container",t.appendChild(o);var p=document.createElement("div");p.id="progress-bar",o.appendChild(p)}(),e.on("preload:end",(function(){e.off("preload:progress")})),e.on("preload:progress",(function(e){var t=document.getElementById("progress-bar");t&&(e=Math.min(1,Math.max(0,e)),t.style.width=100*e+"%")})),e.on("start",(function(){var e=document.getElementById("application-splash-wrapper");e.parentElement.removeChild(e)}))}));var SetTorealWorldPosition=pc.createScript("setTorealWorldPosition");SetTorealWorldPosition.prototype.initialize=function(){},SetTorealWorldPosition.prototype.update=function(o){};var Geolocate=pc.createScript("geolocate");Geolocate.attributes.add("depEntity",{type:"entity"}),Geolocate.attributes.add("arw",{type:"entity"}),Geolocate.attributes.add("longTarget",{type:"number"}),Geolocate.attributes.add("latTarget",{type:"number"}),Geolocate.attributes.add("targetDistance",{type:"number"});var dirDegree=0;let dir=0;function dolol(t){window.app=new pc.Application.getApplication,window.app.fire("dolol",t)}function dokek(){window.app=new pc.Application.getApplication,window.app.fire("dokek")}function toRadians(t){return t*Math.PI/180}function _toDeg(t){return 180*t/Math.PI}function direction(t,a,e,o){var i=e-t,n=Math.sin(i)*Math.cos(o),r=Math.cos(a)*Math.sin(o)-Math.sin(a)*Math.cos(o)*Math.cos(i);return 360-(this._toDeg(Math.atan2(n,r))+360)%360}var heading;function handleOrientation(t){t.webkitCompassHeading?(heading=t.webkitCompassHeading-180,dolol(dir-heading),console.log(app)):(heading=compassHeading(t.alpha,t.beta,t.gamma),dolol(dir-heading),console.log(app))}Geolocate.prototype.initialize=function(){var t=this.longTarget,a=this.latTarget,e=this.targetDistance;this.app.on("dokek",(()=>{this.app.fire("xr:recenter"),this.depEntity.enabled=!0}),this),this.app.on("dolol",(t=>{dirDegree=t,this.arw.setLocalEulerAngles(0,0,-dirDegree)}),this);var o=this.app;navigator.geolocation&&(navigator.geolocation.watchPosition((function(e){dir=direction(e.coords.longitude,e.coords.latitude,t,a),o.root.findByName("UI").script.ui.setDegrees(dir-heading)})),setInterval((function(){navigator.geolocation.getCurrentPosition((function(o){1e3*distance(o.coords.longitude,o.coords.latitude,t,a)<e&&(dokek(),bool=!0)}))}),500))},window.addEventListener("deviceorientation",handleOrientation,!1);const compassHeading=(t,a,e)=>{const o=t*(Math.PI/180),i=a*(Math.PI/180),n=e*(Math.PI/180),r=Math.cos(o),s=Math.sin(o),d=(Math.cos(i),Math.sin(i)),c=Math.cos(n),h=Math.sin(n),l=-r*h-s*d*c,p=-s*h+r*d*c;let g=Math.atan(l/p);return p<0?g+=Math.PI:l<0&&(g+=2*Math.PI),g*=180/Math.PI,g};function distance(t,a,e,o){var i=(o-a)*Math.PI/180,n=(e-t)*Math.PI/180,r=Math.sin(i/2)*Math.sin(i/2)+Math.cos(a*Math.PI/180)*Math.cos(o*Math.PI/180)*Math.sin(n/2)*Math.sin(n/2);return 6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))}Geolocate.prototype.update=function(t){};var Ui=pc.createScript("ui");Ui.attributes.add("html",{type:"asset",assetType:"html",array:!1}),Ui.attributes.add("css",{type:"asset",assetType:"css",array:!1}),Ui.prototype.initialize=function(){var e=this.html,t=document.createElement("div");t.innerHTML=e.resource||"",document.body.appendChild(t),e.on("load",(function(){t.innerHTML=e}));var n=document.createElement("style");document.head.appendChild(n);var i=this.css;n.innerHTML=i.resource||"",i.on("load",(function(){n.innerHTML=i})),this.app.assets.load(i)},Ui.prototype.setLongLat=function(e,t){},Ui.prototype.setDegrees=function(e){document.getElementById("coordinates").innerHTML="Degrees: "+e.toFixed(6)},Ui.prototype.update=function(e){};